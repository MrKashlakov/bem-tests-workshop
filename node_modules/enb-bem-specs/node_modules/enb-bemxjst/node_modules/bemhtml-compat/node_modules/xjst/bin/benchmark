#!/usr/bin/env node
require('coa').Cmd()
    .name(process.argv[1])
    .helpful()
    .opt()
        .name('file').title('Custom benchmark\'s filename')
        .short('f').long('file')
        .end()
    .opt()
        .name('max-time').title('Execution time limit for each suite')
        .short('m').long('max-time')
        .def(1)
        .end()
    .opt()
        .name('engine')
        .title('Optimization engine (sort-group, or fullgen [default])')
        .short('e').long('engine')
        .def('fullgen')
        .end()
    .opt()
        .name('ghosts')
        .title('Generate ghosts of nodes with applies')
        .long('ghosts')
        .flag()
        .end()
    .opt()
        .name('hide-logo').title('Hide XJTS logo')
        .long('hide-logo')
        .flag()
        .def(false)
        .end()
    .opt()
        .name('details').title('Print details for each suite')
        .short('d').long('details')
        .flag()
        .def(false)
        .end()
    .act(function(options) {
      require('../benchmarks/suite').run(options)
      return require('q').defer().promise;
    })
    .run();
